<ng-template #loading>
  <span class="ws-loading ws-shift">Loading...</span>
</ng-template>

<div class="browse ws-shift">
  <ul *ngIf="isLoaded; else loading" class="browse-albums">
    <li *ngFor="let album of albums$ | async" class="browse-albums__album">
      <div class="browse-albums__img-play">
        <img [src]="album.cover_medium" class="browse-albums__album__pic" alt="">
        <button class="browse-albums__album__btn ws-focus-border" (click)="playerHandler.startAlbum(album)">
          <i class="fa fa-play"></i>
        </button>
      </div>
      <div class="browse-albums__album__details">
        <div class="browse-albums__album__details__names">
          <span class="browse-albums__album__name ws-focus-border" [routerLink]="['/album', album.id]">
            {{album.title | titlecase}}
          </span>
          <span class="browse-albums__album__artist-name ws-focus-border" [routerLink]="['/artist', album.artist.id]">
            {{album.artist.name | titlecase}}
          </span>
        </div>
        <span title="songs may contain explicit words" *ngIf="album.explicit_lyrics" class="browse-albums__album__details__exp">Explicit</span>
      </div>
    </li>
  </ul>
</div>
<ws-player
  [playing]="playerHandler.isPlaying()"
  (play)="playerHandler.play()"
  (pause)="playerHandler.pause()"
  (stop)="playerHandler.stop()"
  (next)="playerHandler.next()"
  (previous)="playerHandler.previous()">
</ws-player>
